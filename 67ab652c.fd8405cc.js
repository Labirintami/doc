(window.webpackJsonp=window.webpackJsonp||[]).push([[720],{779:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return o})),t.d(a,"metadata",(function(){return d})),t.d(a,"rightToc",(function(){return l})),t.d(a,"default",(function(){return s}));var n=t(2),r=t(6),i=(t(0),t(1808)),o={sidebar_label:"Data Loading",title:"Data Loading"},d={unversionedId:"treegrid/data_loading",id:"treegrid/data_loading",isDocsHomePage:!1,title:"Data Loading",description:"There are several simple ways of loading data into dhtmlxTreeGrid:",source:"@site/docs/treegrid/data_loading.md",slug:"/treegrid/data_loading",permalink:"/treegrid/data_loading",editUrl:"https://github.com/Labirintami/doc/edit/master/docs/treegrid/data_loading.md",version:"current",sidebar_label:"Data Loading",sidebar:"docs",previous:{title:"Configuration",permalink:"/treegrid/configuration"},next:{title:"Work with TreeGrid",permalink:"/treegrid/usage"}},l=[{value:"Preparing data set",id:"preparing-data-set",children:[]},{value:"Adding data on TreeGrid initialization",id:"adding-data-on-treegrid-initialization",children:[]},{value:"External data loading",id:"external-data-loading",children:[]},{value:"Loading from local source",id:"loading-from-local-source",children:[]},{value:"Saving and restoring state",id:"saving-and-restoring-state",children:[]}],c={rightToc:l};function s(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},c,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("p",null,"There are several simple ways of loading data into dhtmlxTreeGrid:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"adding data via a configuration property"),Object(i.b)("li",{parentName:"ul"},"load data from an external file"),Object(i.b)("li",{parentName:"ul"},"load data from a local data source")),Object(i.b)("p",null,"First, you need to prepare a data set that will be loaded into TreeGrid."),Object(i.b)("h2",{id:"preparing-data-set"},"Preparing data set"),Object(i.b)("p",null,"dhtmlxTreeGrid expects loaded data in the JSON format. Here is an example of an appropriate data set:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'var dataset = [\n    {\n        "id": 0,\n        "a": 1,\n        "b": "Linwood Long long long",\n        "c": "Petersen",\n        "d": "Dahlgreen Place"\n    },\n    {\n        "id": 1,\n        "parent": 0,\n        "a": 2,\n        "b": "Edenburg",\n        "c": "Agnes",\n        "d": "Gem Street"\n    },\n    // more columns\n];\n')),Object(i.b)("p",null,"Each object in the data set contains configuration of a grid row. The structure of a row is rather flexible. It may include:"),Object(i.b)("table",{className:"webixdoc_links"},Object(i.b)("tbody",null,Object(i.b)("tr",null,Object(i.b)("td",{className:"webixdoc_links0"},Object(i.b)("b",null,"rowId")),Object(i.b)("td",null,"(",Object(i.b)("i",null,"string|number"),") optional, the id of a row. In case you haven't specified ids of rows, they will be auto-generated")),Object(i.b)("tr",null,Object(i.b)("td",{className:"webixdoc_links0"},Object(i.b)("b",null,"parent")),Object(i.b)("td",null,"(",Object(i.b)("i",null,"string|number"),") the ID of the parent row")),Object(i.b)("tr",null,Object(i.b)("td",{className:"webixdoc_links0"},Object(i.b)("b",null,"columnContent")),Object(i.b)("td",null,"(",Object(i.b)("i",null,"string|number"),") content of a column as ",Object(i.b)("i",null,"key:value")," pairs, where key is the id of a column and value is any content you want to add into the column")))),Object(i.b)("h2",{id:"adding-data-on-treegrid-initialization"},"Adding data on TreeGrid initialization"),Object(i.b)("p",null,"You can specify data you want to add into TreeGrid on the initialization stage. Make use of the ",Object(i.b)("strong",null,"data")," configuration property, as in:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'var treegrid = new dhx.TreeGrid("treegrid_container", {\n    columns: [// columns config],\n    data: dataset\n});\n')),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://snippet.dhtmlx.com/kob9385v"},"https://snippet.dhtmlx.com/kob9385v"),"\tTreeGrid. Basic initialization"),Object(i.b)("h2",{id:"external-data-loading"},"External data loading"),Object(i.b)("p",null,"To load data from an external file, make use of the ",Object(i.b)("strong",null,"load")," method of Tree Collection. It takes the URL of the file with data as a parameter:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'var treegrid = new dhx.TreeGrid("treegrid_container", {\ntreegrid.data.load("../common/dataset.json");\n')),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://snippet.dhtmlx.com/44rmxlmq"},"https://snippet.dhtmlx.com/44rmxlmq"),"\tTreeGrid.  External data loading"),Object(i.b)("p",null,"The component will make an AJAX call and expect the remote URL to provide valid JSON data."),Object(i.b)("p",null,"Data loading is asynchronous, so you need to wrap any after-loading code into a promise:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'treegrid.data.load("/some/data").then(function(){\n   // some logic here\n});\n')),Object(i.b)("h2",{id:"loading-from-local-source"},"Loading from local source"),Object(i.b)("p",null,"To load data from a local data source, use the ",Object(i.b)("strong",null,"parse")," method of Tree Collection. Pass ",Object(i.b)("a",{parentName:"p",href:"#preparingdataset"},"a predefined data set")," as a parameter of this method:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'var treegrid = new dhx.TreeGrid("treegrid_container", {\ntreegrid.data.parse(dataset);\n')),Object(i.b)("h2",{id:"saving-and-restoring-state"},"Saving and restoring state"),Object(i.b)("p",null,"To save the current state of a treegrid, use the ",Object(i.b)("strong",null,"serialize")," method of Tree Collection. It converts the data of a treegrid into an array of JSON objects.\nEach JSON object contains the configuration of a separate row."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"var state = treegrid1.data.serialize();\n")),Object(i.b)("p",null,"Then you can parse the data stored in the saved state array to a different treegrid. For example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"// creating a new treegrid\nvar treegrid2 = new dhx.TreeGrid(document.body);\n// parsing the state of treegrid1 into treegrid2\ntreegrid2.data.parse(state);\n")))}s.isMDXComponent=!0}}]);