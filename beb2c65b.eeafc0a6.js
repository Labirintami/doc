(window.webpackJsonp=window.webpackJsonp||[]).push([[1288],{1347:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return u}));var a=n(2),o=n(6),l=(n(0),n(1808)),i={sidebar_label:"Step 4. Add a ContextMenu",title:"Step 4. Add a ContextMenu"},c={unversionedId:"tutorial/binding_components/step4",id:"tutorial/binding_components/step4",isDocsHomePage:!1,title:"Step 4. Add a ContextMenu",description:"In this step we consider how to add and display a context menu on the page.",source:"@site/docs/tutorial/binding_components/step4.md",slug:"/tutorial/binding_components/step4",permalink:"/tutorial/binding_components/step4",editUrl:"https://github.com/Labirintami/doc/edit/master/docs/tutorial/binding_components/step4.md",version:"current",sidebar_label:"Step 4. Add a ContextMenu"},r=[],s={rightToc:r};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"In this step we consider how to add and display a context menu on the page."),Object(l.b)("p",null,"##Adding ContextMenu on the page"),Object(l.b)("p",null,"To add a context menu on the page we should take the following steps:"),Object(l.b)("p",null,"1","."," Initialize dhtmlxContextMenu with the constructor in the same way as we ",Object(l.b)("a",{parentName:"p",href:"/tutorial/basic_application/step3"},"initialized the toolbar"),":"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},'var contextMenu = new dhx.ContextMenu(null, {css: "dhx_widget--bg_gray"});\n')),Object(l.b)("p",null,"2","."," Create a JSON structure with items for ContextMenu:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},'var contextmenu_data = [\n    {\n        "id": "edit",\n        "icon": "mdi mdi-pencil",\n        "value": "Edit"\n    },\n    {\n        "id": "delete",\n        "icon": "mdi mdi-delete",\n        "value": "Delete"\n    }\n];\n')),Object(l.b)("p",null,"You can find more information about types of the menu controls and their attributes in the ",Object(l.b)("a",{parentName:"p",href:"/menu/configuring_menu_items"},"List of Menu Controls")," article."),Object(l.b)("p",null,"3","."," We use the ",Object(l.b)("b",null,"parse()")," method to load the predefined data set to the context menu:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"contextMenu.data.parse(contextmenu_data);\n")),Object(l.b)("i",null,"We pass a JSON structure as a parameter."),Object(l.b)("p",null,"##Displaying the ContextMenu"),Object(l.b)("p",null,"Let's consider how to display dhtmlxContextMenu on the page after right-clicking on a grid cell."),Object(l.b)("p",null,"We need to follow the steps below to do that: "),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"set a selection on the grid cell using the ",Object(l.b)("b",null,"setCell()")," method of the Selection object. The ",Object(l.b)("b",null,"setCell()")," method takes as a parameter the id of a grid row:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"grid.selection.setCell(row.id);\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"prevent the browser context menu from appearing on the page through the ",Object(l.b)("strong",null,"event.preventDefault()")," method:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"e.preventDefault();\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"show a dhxContextMenu on the page via the menu/api/menu_showat_method.md method of dhxContextMenu:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"contextMenu.showAt(e);\n")),Object(l.b)("p",null,"Now we should put together the above described steps and place them inside the handler function of the grid/api/grid_cellrightclick_event.md event:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},'grid.events.on("CellRightClick", function(row,column,e){\n    grid.selection.setCell(row.id);\n    e.preventDefault();\n    contextMenu.showAt(e);\n});\n')),Object(l.b)("p",null,"After that a right-click on a grid cell will call a context menu we have specified."),Object(l.b)("img",{src:"tutorial/binding_components/context_menu.png"}),Object(l.b)("div",{id:"tutorial_step"},Object(l.b)("a",{id:"next_step",href:"tutorial/binding_components/step5.md"})))}u.isMDXComponent=!0}}]);