(window.webpackJsonp=window.webpackJsonp||[]).push([[904],{963:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return d})),a.d(t,"default",(function(){return s}));var n=a(2),l=a(6),o=(a(0),a(1808)),r={sidebar_label:"Data Loading",title:"Data Loading"},i={unversionedId:"tree/loading_data",id:"tree/loading_data",isDocsHomePage:!1,title:"Data Loading",description:"There are several simple ways of loading data into dhtmlxTree:",source:"@site/docs/tree/loading_data.md",slug:"/tree/loading_data",permalink:"/tree/loading_data",editUrl:"https://github.com/Labirintami/doc/edit/master/docs/tree/loading_data.md",version:"current",sidebar_label:"Data Loading",sidebar:"docs",previous:{title:"Configuration",permalink:"/tree/configuration"},next:{title:"Drag-n-Drop",permalink:"/tree/drag_and_drop_handling"}},d=[{value:"Preparing data set",id:"preparing-data-set",children:[]},{value:"External data loading",id:"external-data-loading",children:[]},{value:"Loading from local source",id:"loading-from-local-source",children:[]},{value:"Saving and restoring state",id:"saving-and-restoring-state",children:[]}],c={rightToc:d};function s(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"There are several simple ways of loading data into dhtmlxTree:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"load data from an external file"),Object(o.b)("li",{parentName:"ul"},"load data from a local data source")),Object(o.b)("p",null,"First, you need to prepare a data set that will be loaded into Tree."),Object(o.b)("h2",{id:"preparing-data-set"},"Preparing data set"),Object(o.b)("p",null,"dhtmlxTree expects loaded data in the JSON format. Here is an example of an appropriate data set:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'var dataset = [\n    {\n        "value": "Books",\n        "id": "books",\n        "opened": true,\n        "items": [          \n            {\n                "value": "History",\n                "id": "history",\n                "items": [{\n                    "value": "John Mack Faragher",\n                    "id": "jmf",\n                    "icon": {\n                        "folder": "fas fa-book",\n                        "openFolder": "fas fa-book-open",\n                        "file": "fas fa-file"\n                    }\n                },\n                {\n                    "value": "Jim Dwyer",\n                    "id": "jd"\n                },\n                {\n                    "value": "Larry Schweikart",\n                    "id": "ls"\n                }]\n            },\n            {\n                "value": "Fiction & Fantasy",\n                "id": "fantasy",\n                "items": [{\n                    "value": "Audrey Niffenegger",\n                    "id": "af"\n                },\n                {\n                    "value": "Philip Roth",\n                    "id": "pr"\n                }]\n            },\n            {\n                "value": "Teens",\n                "id": "teens",\n                "items": [{\n                    "value": "Joss Whedon",\n                    "id": "jw"\n                },\n                {\n                    "value": "Meg Cabot",\n                    "id": "mc"\n                },\n                {\n                    "value": "Garth Nix",\n                    "id": "gn"\n                }]\n            }\n        ]\n    }\n];\n')),Object(o.b)("p",null,"Each object in the data set contains configuration of a tree item. The structure of an item is rather flexible. It may include:"),Object(o.b)("table",{className:"webixdoc_links"},Object(o.b)("tbody",null,Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"value")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"string"),") the name of an item")),Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"id")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"string"),") the id of an item")),Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"opened")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"boolean"),") optional, defines whether an item is opened by default")),Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"checkbox")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"boolean"),") optional, enables/disables displaying a checkbox for a tree item")),Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"items")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"array"),") an array of nested items")),Object(o.b)("tr",null,Object(o.b)("td",{className:"webixdoc_links0"},Object(o.b)("b",null,"icon")),Object(o.b)("td",null,"(",Object(o.b)("i",null,"object"),") allows adding ",Object(o.b)("a",{href:"https://docs.dhtmlx.com/suite/tree__api__tree_icon_config.html"},"custom icons")," for a tree item")))),Object(o.b)("h2",{id:"external-data-loading"},"External data loading"),Object(o.b)("p",null,"To load data from an external file, make use of the ",Object(o.b)("strong",null,"load")," method of Tree Collection. It takes the URL of the file with data as a parameter:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'var tree = new dhx.Tree("tree_container");\ntree.data.load("../common/dataset.json");\n')),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://snippet.dhtmlx.com/oz4jd5hc"},"https://snippet.dhtmlx.com/oz4jd5hc"),"\tTree. Basic Initialization"),Object(o.b)("p",null,"The component will make an AJAX call and expect the remote URL to provide valid JSON data."),Object(o.b)("p",null,"Data loading is asynchronous, so you need to wrap any after-loading code into a promise:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'tree.data.load("/some/data").then(function(){\n   // some logic here\n});\n')),Object(o.b)("h2",{id:"loading-from-local-source"},"Loading from local source"),Object(o.b)("p",null,"To load data from a local data source, use the ",Object(o.b)("strong",null,"parse")," method of Tree Collection. Pass ",Object(o.b)("a",{parentName:"p",href:"#preparingdataset"},"a predefined data set")," as a parameter of this method:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'var tree = new dhx.Tree("tree_container");\ntree.data.parse(dataset);\n')),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://snippet.dhtmlx.com/oz4jd5hc"},"https://snippet.dhtmlx.com/oz4jd5hc"),"\tTree. Basic Initialization"),Object(o.b)("h2",{id:"saving-and-restoring-state"},"Saving and restoring state"),Object(o.b)("p",null,"To save the current state of a tree, use the ",Object(o.b)("strong",null,"serialize")," method of Tree Collection. It converts the data of a tree into an array of JSON objects.\nEach JSON object contains the configuration of a separate row."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"var state = tree1.data.serialize();\n")),Object(o.b)("p",null,"Then you can parse the data stored in the saved state array to a different tree. For example:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"// creating a new Tree\nvar tree2 = new dhx.Tree(document.body);\n// parsing the state of tree1 into tree2\ntree2.data.parse(state);\n")))}s.isMDXComponent=!0}}]);